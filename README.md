# 🗓️ 시간표 생성기 (Timetable Generator)

## 📌 프로젝트 개요

이 프로젝트는 사용자의 수업 선호 조건(늦게 시작 / 빈 시간 최소 / 공강 요일 포함)에 따라  
**충돌 없는 최적의 시간표 조합**을 자동으로 찾아주는 파이썬 기반 SW입니다.  
단일 '.py' 파일로 실행 가능하며, 'subjects.txt' 파일에서 분반 정보를 불러와  
최적 시간표를 구성하고 출력합니다.

| 파일명           | 설명                       |
| --------------  | -------------------------- |
| `ossproj.py`    | 시간표 생성기 메인 코드      |
| `subjects.txt`  | 과목 및 시간 정보 입력 파일  |
| `README.md`     | 프로젝트 소개 및 사용 설명서 |

---

## 🎯 프로젝트 목적

- 과목 분반별 다양한 시간표 조합을 자동 생성 및 비교
- 수업 간 **시간 겹침 없이**, 사용자 선호 조건을 반영한 시간표 구성
- Git, Python, 파일입출력, 조건 분기, 객체지향 프로그래밍을 실습하며 OSS 프로젝트 이해

---

## ⚙️ 주요 기능

| 기능 | 설명 |
|------|------|
| 📂 과목 파일 불러오기 | 'subjects.txt'에 저장된 과목 데이터를 파싱 |
| ✅ 유효 조합 필터링 | 과목당 한 분반만 선택 + 시간 겹침 없는 조합만 추출 |
| 🧠 사용자 조건 선택 | ① 늦게 시작 ② 빈 시간 최소 ③ 공강 요일 포함 중 선택 |
| 🧾 시간표 시각화 출력 | 요일/시간대별 보기 쉬운 표 형식으로 시간표 출력 |
| 🔖 과목코드 출력 | 추천 시간표 하단에 과목코드 자동 출력 |

---
## 📌 입력 규칙

입력 파일 형식: 'subjects.txt'
   - 한 줄 = 한 개의 분반 정보
   - 분반은 과목마다 여러 개 가능하며, 시간표에는 각 과목당 오직 하나의 분반만 포함됨

형식
   - 과목명 분반 과목코드 요일1 시작1 끝1 요일2 시작2 끝2

요일
   - 요일이 한 번만 있는 과목은 앞의 6개만 입력
   - 요일이 두 번 있는 과목은 9개 입력
   - 영문 약어 3자('Mon', 'Tue', 'Wed', 'Thu', 'Fri'),('월', '화요일' 등 한글 불가)

- 시간
   - 소수점으로 표현된 실수형('9.0', '10.5'), (10:30, 10시반 등 시간 문자열 불가)

- ⛔ 형식이 틀리면 해당 줄은 자동 무시되고 출력되지 않음

---

## 전체 실행 흐름

1. 'subjects.txt'에서 모든 분반 정보 로드  
2. 잘못된 형식은 무시  
3. 과목별로 가능한 분반 조합 생성  
4. 수업시간 충돌 제거 → 유효 조합 필터링  
   - 수업이 같은 요일에 겹치지 않도록 '(시작 < 종료)' 비교 방식으로 검사
5. 조건 선택 (1.늦게 시작 / 2.빈 시간 최소 / 3.공강 포함), (이외의 번호 선택 시 재선택)
6. 상위 5개의 추천 시간표를 출력
   - 3번 선택 후 공강 요일이 있는 조합이 없을 시, '수업 사이 빈 시간이 적은 시간표'로 대체

---

Subjectsection	각 과목의 분반 정보를 구조화하여 저장하는 클래스
load_subjects_from_file()	텍스트 파일을 읽어 과목 정보 리스트로 변환
select_preference()	사용자로부터 조건을 입력받는 함수
group_sections_by_subject()	과목별로 분반 리스트를 딕셔너리로 묶음
generate_combinations()	과목당 하나씩 선택해 가능한 조합 생성 (백트래킹)
has_conflict()	요일·시간이 겹치는지 확인
filter_valid_combinations()	충돌 없는 조합만 필터링
summarize_schedule() 조합된 시간표를 요일별로 정리하는 함수 (출력/정렬용)
sort_by_late_start()	조건①: 늦게 시작하는 시간표 정렬
sort_by_short_gaps()	조건②: 수업 사이 빈 시간이 적은 시간표 정렬
sort_by_free_day()	조건③: 공강 요일이 많은 시간표 정렬 (불가능 시 조건② 대체)
print_timetable()	시간표를 요일별로 정렬하여 보기 좋게 출력
main() 실행 함수

---

## Git 브랜치 활용
- 메인 브랜치에서 기본 시간표 기능을 개발
- add_code 브랜치에서 과목코드 필드 추가 및 출력 기능을 개발
- Perfect 브랜치에서 조건3으로 가능한 시간표가 없을 경우 조건2로 대체하는 기능 개발
- 기능별로 브랜치를 나눠 작업함으로써 개발 중 코드 충돌을 방지 / 변경 사항을 명확하게 관리

---

## 설치 및 실행 방법

### 1. 사전 설치

- Python 3.x 이상 (외부 라이브러리 불필요)
- subjects.txt 파일과 ossproj.py 파일이 같은 폴더에 있어야함

### 2. 파일 입력
- subjects.txt 파일을 메모장이나 VSCode로 열기
- 형식에 맞게 입력

### 3. 실행

- ossproj.py와 subjects.txt가 있는 폴더에서 주소창에 cmd 입력 → Enter → 터미널 열림
   - VSCode 사용자라면 ossproj.py 파일을 열고 Ctrl + ~로 터미널을 열기
- 다음 명령어 실행 : python ossproj.py

---

## 입출력 예시
- 'subjects.txt' 입력 예시
이산수학 1 D1234 Mon 9.0 10.5 Wed 10.5 12.0
이산수학 2 D1234 Mon 10.5 12.0 Wed 9.0 10.5
객체지향 1 D1345 Mon 9.0 10.5 Mon 15.0 16.5
객체지향 2 D1345 Mon 10.5 12.0 Mon 16.5 18.0
데이터구조 1 D1357 Mon 13.5 15.0 Wed 9.0 10.5
데이터구조 2 D1357 Mon 12.0 13.5 Wed 10.5 12.0
확률과통계 1 D2468 Mon 15.0 16.5 Fri 16.5 18.0
확률과통계 2 D2468 Mon 16.5 18.0 Fri 15.0 16.5
OSS개발 1 D1753 Tue 10.5 12.0 Thu 16.5 18.0
OSS개발 2 D1753 Tue 16.5 18.0 Thu 15.0 16.5
머신러닝 1 D3821 Tue 13.5 15.0
머신러닝 2 D3821 Tue 12.0 13.5

- 출력 예시
📂 과목명 순 정렬 결과:
OSS개발 분반 1 코드 D1753
  - Tue 10.5 ~ 12.0
  - Thu 16.5 ~ 18.0

-------------
OSS개발 분반 2 코드 D1753
  - Tue 16.5 ~ 18.0
  - Thu 15.0 ~ 16.5

-------------
객체지향 분반 1 코드 D1345
  - Mon 9.0 ~ 10.5
  - Mon 15.0 ~ 16.5

-------------
객체지향 분반 2 코드 D1345
  - Mon 10.5 ~ 12.0
  - Mon 16.5 ~ 18.0

-------------
데이터구조 분반 1 코드 D1357
  - Mon 13.5 ~ 15.0
  - Wed 9.0 ~ 10.5

-------------
데이터구조 분반 2 코드 D1357
  - Mon 12.0 ~ 13.5
  - Wed 10.5 ~ 12.0

-------------
머신러닝 분반 1 코드 D3821
  - Tue 13.5 ~ 15.0

-------------
머신러닝 분반 2 코드 D3821
  - Tue 12.0 ~ 13.5

-------------
이산수학 분반 1 코드 D1234
  - Mon 9.0 ~ 10.5
  - Wed 10.5 ~ 12.0

-------------
이산수학 분반 2 코드 D1234
  - Mon 10.5 ~ 12.0
  - Wed 9.0 ~ 10.5

-------------
확률과통계 분반 1 코드 D2468
  - Mon 15.0 ~ 16.5
  - Fri 16.5 ~ 18.0

-------------
확률과통계 분반 2 코드 D2468
  - Mon 16.5 ~ 18.0
  - Fri 15.0 ~ 16.5

-------------
원하는 시간표 조건을 선택하세요 :
1. 늦게 시작하는 시간표
2. 수업 사이 빈 시간이 적은 시간표
3. 공강 요일이 있는 시간표
번호 입력 (1~3): 5
⚠️ 잘못 선택하셨습니다. 다시 입력하세요.

원하는 시간표 조건을 선택하세요 :
1. 늦게 시작하는 시간표
2. 수업 사이 빈 시간이 적은 시간표
3. 공강 요일이 있는 시간표
번호 입력 (1~3): 3
✅ 충돌 없는 조합 수: 8

🔹 공강 요일이 있는 시간표를 생성합니다.
⚠️ 공강 요일이 있는 조합이 없습니다. 대신 '수업 사이 빈 시간이 적은 시간표'로 대체됩니다.

🗓️ 최적 시간표 추천 결과 (상위 5개):

[추천 시간표 1]
🕒   시간       Mon           Tue           Wed           Thu           Fri
--------------------------------------------------------------------------
  9.0~10.5   객체지향(1)        -----    이산수학(2)        -----       -----
 10.5~12.0   이산수학(2)     OSS개발(1)    데이터구조(2)       -----       -----
 12.0~13.5   데이터구조(2)    머신러닝(2)        -----       -----       -----
 15.0~16.5   객체지향(1)        -----       -----       -----    확률과통계(2)
 16.5~18.0   확률과통계(2)       -----       -----    OSS개발(1)       -----

 과목명   :  OSS개발, 객체지향, 데이터구조, 머신러닝, 이산수학, 확률과통계

 과목코드 :  D1753, D1345, D1357, D3821, D1234, D2468

[추천 시간표 2]
🕒   시간       Mon           Tue           Wed           Thu           Fri
--------------------------------------------------------------------------
  9.0~10.5   이산수학(1)        -----    데이터구조(1)       -----       -----
 10.5~12.0   객체지향(2)     OSS개발(1)    이산수학(1)        -----       -----
 12.0~13.5      -----    머신러닝(2)        -----       -----       -----
 13.5~15.0   데이터구조(1)       -----       -----       -----       -----
 15.0~16.5   확률과통계(1)       -----       -----       -----       -----
 16.5~18.0   객체지향(2)        -----       -----    OSS개발(1)    확률과통계(1)

 과목명   :  OSS개발, 객체지향, 데이터구조, 머신러닝, 이산수학, 확률과통계

 과목코드 :  D1753, D1345, D1357, D3821, D1234, D2468

[추천 시간표 3]
🕒   시간       Mon           Tue           Wed           Thu           Fri
--------------------------------------------------------------------------
  9.0~10.5   객체지향(1)        -----    이산수학(2)        -----       -----
 10.5~12.0   이산수학(2)     OSS개발(1)    데이터구조(2)       -----       -----
 12.0~13.5   데이터구조(2)       -----       -----       -----       -----
 13.5~15.0      -----    머신러닝(1)        -----       -----       -----
 15.0~16.5   객체지향(1)        -----       -----       -----    확률과통계(2)
 16.5~18.0   확률과통계(2)       -----       -----    OSS개발(1)       -----

 과목명   :  OSS개발, 객체지향, 데이터구조, 머신러닝, 이산수학, 확률과통계

 과목코드 :  D1753, D1345, D1357, D3821, D1234, D2468

[추천 시간표 4]
🕒   시간       Mon           Tue           Wed           Thu           Fri
--------------------------------------------------------------------------
  9.0~10.5   이산수학(1)        -----    데이터구조(1)       -----       -----
 10.5~12.0   객체지향(2)     OSS개발(1)    이산수학(1)        -----       -----
 13.5~15.0   데이터구조(1)    머신러닝(1)        -----       -----       -----
 15.0~16.5   확률과통계(1)       -----       -----       -----       -----
 16.5~18.0   객체지향(2)        -----       -----    OSS개발(1)    확률과통계(1)

 과목명   :  OSS개발, 객체지향, 데이터구조, 머신러닝, 이산수학, 확률과통계

 과목코드 :  D1753, D1345, D1357, D3821, D1234, D2468

[추천 시간표 5]
🕒   시간       Mon           Tue           Wed           Thu           Fri
--------------------------------------------------------------------------
  9.0~10.5   객체지향(1)        -----    이산수학(2)        -----       -----
 10.5~12.0   이산수학(2)        -----    데이터구조(2)       -----       -----
 12.0~13.5   데이터구조(2)       -----       -----       -----       -----
 13.5~15.0      -----    머신러닝(1)        -----       -----       -----
 15.0~16.5   객체지향(1)        -----       -----    OSS개발(2)    확률과통계(2)
 16.5~18.0   확률과통계(2)    OSS개발(2)       -----       -----       -----

 과목명   :  OSS개발, 객체지향, 데이터구조, 머신러닝, 이산수학, 확률과통계

 과목코드 :  D1753, D1345, D1357, D3821, D1234, D2468